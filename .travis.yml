language: java
jdk:
    - openjdk8
branches:
    only:
        - master

cache:
    directories:
        - '$HOME/.m2/repository'
        - '$HOME/.maven'

script: "./mvnw clean package"

notifications:
    email:
        recipients:
        - me@wheejuni.com
deploy: 
    - provider: s3 
    access_key_id: $AWS_ACCESS_KEY 
    secret_access_key: $AWS_SECRET_KEY 
    bucket: nomad-hackathon-backend-jar 
    region: ap-northeast-2 
    skip_cleanup: true 
    acl: public_read 
    wait-until-deployed: true 
    on: 
        repo: seulgiwendy/nomad-hackathon-backend
        branch: master


